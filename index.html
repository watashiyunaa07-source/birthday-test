<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday ğŸ’–</title>
<style>
body{margin:0;font-family:cursive;text-align:center;background:#ffe6f2}
.hidden{display:none}
button{padding:12px 25px;font-size:18px;border:none;border-radius:20px;background:#ff4da6;color:white;margin:15px}

/* STRIPED LOADING BAR */
#barBox{width:80%;height:25px;margin:auto;background:#ffd1e8;border-radius:20px;overflow:hidden}
#barFill{height:100%;width:0%;background:repeating-linear-gradient(45deg,#ff4da6,#ff4da6 10px,#ff99cc 10px,#ff99cc 20px)}

/* CARDS */
#cardGrid{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;max-width:420px;margin:auto}
.card{perspective:1000px}
.cardInner{position:relative;width:160px;height:220px;transform-style:preserve-3d;transition:0.8s}
.card.flip .cardInner{transform:rotateY(180deg)}
.cardFace{position:absolute;width:100%;height:100%;backface-visibility:hidden;border-radius:20px;display:flex;align-items:center;justify-content:center;font-size:32px;background:white}
.cardBack{transform:rotateY(180deg);background:#ffb3d9;font-size:18px;padding:10px}

#decorateBg{position:fixed;top:0;left:0;width:100%;height:100%;background:url('decorate.png');background-size:cover;opacity:0.4;z-index:-1}
.balloon{width:120px;margin:10px}
#scrollBox{position:relative;display:inline-block}
#finalText{position:absolute;top:18%;left:10%;width:80%}
</style>
</head>
<body>
<audio id="music" src="sailor.mp3" loop></audio>

<!-- LOADING -->
<div id="loading">
<h2>Measuring your cuteness ğŸ°ğŸ’—</h2>
<img src="rabbit.png" width="150"><br>
<div id="barBox"><div id="barFill"></div></div>
<p id="percent">0%</p>
<p id="born" class="hidden">A dollkeeper was born 20 years ago ğŸ‚âœ¨</p>
<button id="next1" class="hidden" onclick="showCards()">Next â¡ï¸</button>
</div>

<!-- CARDS -->
<div id="cards" class="hidden">
<h2>Pick your lucky card ğŸƒ</h2>
<div id="cardGrid">
<div class="card" onclick="flip(this)"><div class="cardInner"><div class="cardFace">â™ ï¸</div><div class="cardFace cardBack">Strong & Loyal ğŸ–¤</div></div></div>
<div class="card" onclick="flip(this)"><div class="cardInner"><div class="cardFace">â™£ï¸</div><div class="cardFace cardBack">Funny & Smart ğŸŒ¿</div></div></div>
<div class="card" onclick="flip(this)"><div class="cardInner"><div class="cardFace">â™¥ï¸</div><div class="cardFace cardBack">Pure Love ğŸ’–</div></div></div>
<div class="card" onclick="flip(this)"><div class="cardInner"><div class="cardFace">â™¦ï¸</div><div class="cardFace cardBack">Rare & Precious ğŸ’</div></div></div>
</div>
<button id="cakeBtn" class="hidden" onclick="showCake()">Go to Cake ğŸ‚</button>
</div>

<!-- CAKE -->
<div id="cake" class="hidden">
<h2>Swipe cake to cut ğŸ‚â¡ï¸</h2>
<img id="cakeImg" src="cake_plain.png" width="260"><br>
<button id="decorateBtn" onclick="decorate()">Decorate ğŸ€</button>
<button id="cutBtn" class="hidden" onclick="cutCake()">Cut Cake ğŸ‚</button>
</div>

<!-- BALLOONS -->
<div id="balloons" class="hidden">
<h2>Pop balloons ğŸˆ</h2>
<img class="balloon" src="balloon.png" onclick="pop(this,'You')">
<img class="balloon" src="balloon.png" onclick="pop(this,'are')">
<img class="balloon" src="balloon.png" onclick="pop(this,'my')">
<img class="balloon" src="balloon.png" onclick="pop(this,'forever bestie ğŸ’–')">
<p id="secret"></p>
<button id="finalBtn" class="hidden" onclick="showFinal()">Go to Final Message â¡ï¸</button>
</div>

<!-- FINAL -->
<div id="final" class="hidden">
<div id="scrollBox">
<img src="scroll.png" width="95%">
<div id="finalText">You are the best thing that happened in my life. Happy Birthday my soulmate bestie ğŸ’Œâœ¨</div>
</div>
</div>

<script>
const barFill=document.getElementById('barFill');
const percent=document.getElementById('percent');
let val=0;
let load=setInterval(()=>{
 val+=3;
 barFill.style.width=(val/222*100)+'%';
 percent.innerText=Math.min(val,222)+'%';
 if(val>=222){clearInterval(load);born.classList.remove('hidden');next1.classList.remove('hidden');}
},40);

function showCards(){loading.classList.add('hidden');cards.classList.remove('hidden');music.play().catch(()=>{});} 

let flipped=0;
function flip(c){if(!c.classList.contains('flip')){c.classList.add('flip');flipped++;if(flipped>=1)cakeBtn.classList.remove('hidden');}}

function showCake(){cards.classList.add('hidden');cake.classList.remove('hidden');}

function decorate(){document.body.insertAdjacentHTML('beforeend','<div id="decorateBg"></div>');decorateBtn.style.display='none';cutBtn.classList.remove('hidden');}

function cutCake(){navigator.vibrate?.(200);cake.classList.add('hidden');balloons.classList.remove('hidden');}

let words=[];
function pop(b,w){b.style.display='none';words.push(w);secret.innerText=words.join(' ');if(words.length>=4)finalBtn.classList.remove('hidden');}

function showFinal(){balloons.classList.add('hidden');final.classList.remove('hidden');}
</script>
</body>
</html>
