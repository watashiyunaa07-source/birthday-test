<!DOCTYPE html>
<html>
<head>
  <title>Birthday Surprise</title>
</head>

<body style="text-align:center; font-family:Arial; background:#ffe6f2;">

  <h1 id="title">ğŸ‰ Ready for the surprise?</h1>

  <button id="startBtn" onclick="start()">Start</button>

  <h2 id="countdown"></h2>

  <!-- Cake -->
  <div 
    id="cake" 
    style="display:none; font-size:120px; transform: scale(3); cursor:pointer;"
  >
    ğŸ‚
  </div>

  <p id="cutText" style="display:none; font-size:20px;">
    Swipe to cut the cake!
  </p>

  <!-- Music -->
  <audio id="music">
    <source src="https://www2.cs.uic.edu/~i101/SoundFiles/HappyBirthday.wav">
  </audio>

  <script>
    let startX = 0;
    let cut = false;

    function start() {
      document.getElementById("startBtn").style.display = "none";

      let count = 3;
      document.getElementById("countdown").innerText = count;

      let timer = setInterval(() => {
        count--;
        document.getElementById("countdown").innerText = count;

        if (count === 0) {
          clearInterval(timer);
          document.getElementById("countdown").innerText = "";
          document.getElementById("title").innerText = "ğŸ‚ Cut the cake!";
          document.getElementById("cake").style.display = "block";
          document.getElementById("cutText").style.display = "block";
        }
      }, 1000);
    }

    const cake = document.getElementById("cake");

    // Touch (phone)
    cake.addEventListener("touchstart", e => {
      startX = e.touches[0].clientX;
    });

    cake.addEventListener("touchend", e => {
      let endX = e.changedTouches[0].clientX;
      if (Math.abs(endX - startX) > 50) {
        cutCake();
      }
    });

    // Mouse (laptop)
    cake.addEventListener("mousedown", e => {
      startX = e.clientX;
    });

    cake.addEventListener("mouseup", e => {
      if (Math.abs(e.clientX - startX) > 50) {
        cutCake();
      }
    });

    function cutCake() {
      if (cut) return; // stop multiple cuts
      cut = true;

      // Change cake
      cake.innerText = "ğŸ°";

      // Change text
      document.getElementById("cutText").innerText = "ğŸ‰ Cake Cut! Happy Birthday!";

      // Play music
      document.getElementById("music").play();

      // Vibrate phone
      if (navigator.vibrate) {
        navigator.vibrate(400);
      }
    }
  </script>

</body>
</html>
