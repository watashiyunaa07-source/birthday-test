<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Birthday Surprise</title>

<style>
body{
  margin:0;
  font-family:'Comic Sans MS',cursive;
  background:linear-gradient(135deg,#ffd6ec,#ffe9f6);
  text-align:center;
  overflow:hidden;
}
.page{display:none;min-height:100vh;padding:25px;}
.show{display:block;}
button{
  padding:12px 22px;
  border:none;
  border-radius:25px;
  background:#ff7eb9;
  color:white;
  font-size:16px;
  margin-top:20px;
}
#cake{width:300px;}
.balloon{width:90px;position:fixed;bottom:-120px;animation:floatUp 6s linear forwards;}
.sparkle{position:fixed;font-size:18px;animation:float 5s linear forwards;pointer-events:none;}
@keyframes float{from{transform:translateY(0)}to{transform:translateY(-120vh);opacity:0}}
@keyframes floatUp{from{transform:translateY(0)}to{transform:translateY(-120vh)}}
.cards{display:flex;gap:18px;justify-content:center;}
.card{width:100px;height:140px;perspective:1000px;}
.inner{width:100%;height:100%;transition:0.7s;transform-style:preserve-3d;}
.card.flip .inner{transform:rotateY(180deg);}
.front,.back{position:absolute;width:100%;height:100%;border-radius:15px;background:white;display:flex;align-items:center;justify-content:center;backface-visibility:hidden;}
.back{transform:rotateY(180deg);font-size:12px;padding:8px}
</style>
</head>
<body>

<audio id="music" loop>
  <source src="birthday.mp3">
</audio>
<audio id="finalMusic" loop>
  <source src="sailor.mp3">
</audio>

<div id="p1" class="page show">
  <h2>Measuring your cuteness... ğŸ’—</h2>
  <div id="percent">0%</div>
</div>

<div id="p2" class="page">
  <h2>A cutie was born ğŸ’–</h2>
  <button onclick="next(3)">Next âœ</button>
</div>

<div id="p3" class="page">
  <h2>Pick ONE card</h2>
  <div class="cards">
    <div class="card" onclick="pick(this)"><div class="inner"><div class="front">â¤ï¸</div><div class="back">You are my favorite person</div></div></div>
    <div class="card" onclick="pick(this)"><div class="inner"><div class="front">âœ¨</div><div class="back">Life is happier with you</div></div></div>
  </div>
  <button id="cakeBtn" style="display:none" onclick="next(4)">Go to Cake ğŸ‚</button>
</div>

<div id="p4" class="page">
  <img id="cake" src="cake_plain.png">
  <br>
  <button id="decorateBtn">Decorate ğŸ€</button>
  <button id="cutBtn" style="display:none">Swipe cake âœ</button>
</div>

<div id="p5" class="page">
  <h2>Pop balloons ğŸˆ</h2>
  <div id="balloons"></div>
  <button onclick="next(6)">Final Message ğŸ’Œ</button>
</div>

<div id="p6" class="page">
  <h2>Happy Birthday ğŸ’–</h2>
</div>

<script>
let current=1;
const music=document.getElementById("music");
const finalMusic=document.getElementById("finalMusic");
function next(n){
  document.getElementById("p"+current).classList.remove("show");
  document.getElementById("p"+n).classList.add("show");
  current=n;
  music.play().catch(()=>{});
  if(n==6){music.pause();finalMusic.play().catch(()=>{});} 
}

let w=0;
let load=setInterval(()=>{
  w+=2;
  percent.innerText=w+"%";
  if(w>=100){clearInterval(load);next(2);} 
},30);

let chosen=false;
function pick(card){
  if(chosen) return;
  chosen=true;
  card.classList.add("flip");
  cakeBtn.style.display="inline-block";
}

const decorateBtn=document.getElementById("decorateBtn");
const cutBtn=document.getElementById("cutBtn");

function startSparkles(){
  for(let i=0;i<25;i++){
    let s=document.createElement("div");
    s.className="sparkle";
    s.innerHTML="âœ¨";
    s.style.left=Math.random()*100+"vw";
    document.body.appendChild(s);
    setTimeout(()=>s.remove(),5000);
  }
}

function makeBalloons(){
  for(let i=0;i<10;i++){
    let b=document.createElement("img");
    b.src="balloon.png";
    b.className="balloon";
    b.style.left=Math.random()*90+"vw";
    document.body.appendChild(b);
  }
}

decorateBtn.onclick=()=>{
  startSparkles();
  makeBalloons();
  decorateBtn.style.display="none";
  cutBtn.style.display="inline-block";
};

const cake=document.getElementById("cake");
let startX=0;
cake.addEventListener("pointerdown",e=>startX=e.clientX);
cake.addEventListener("pointerup",e=>{
  if(e.clientX-startX>40){
    if(navigator.vibrate) navigator.vibrate(300);
    next(5);
  }
});
</script>
</body>
</html>

