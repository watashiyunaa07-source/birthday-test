<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Birthday Surprise</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: linear-gradient(#ffe6f0, #fff);
  text-align: center;
}

.hidden { display: none; }

.screen {
  min-height: 100vh;
  padding: 20px;
}

img {
  max-width: 80%;
}

button {
  background: #ff8fb1;
  border: none;
  padding: 12px 20px;
  border-radius: 20px;
  font-size: 16px;
  margin: 10px;
  cursor: pointer;
}

.progress {
  width: 80%;
  height: 20px;
  background: #ddd;
  margin: 20px auto;
  border-radius: 10px;
  overflow: hidden;
}

.progress-bar {
  height: 100%;
  width: 0%;
  background: pink;
}

.cards {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
}

.card {
  width: 120px;
  margin: 10px;
  cursor: pointer;
}

.balloon {
  width: 80px;
  cursor: pointer;
}

.candle {
  font-size: 50px;
}
</style>
</head>

<body>

<!-- LOADING -->
<div id="loading" class="screen">
  <h2>Loading your cutenessâ€¦</h2>
  <div class="progress">
    <div id="bar" class="progress-bar"></div>
  </div>
  <p id="percent">1%</p>
</div>

<!-- INTRO -->
<div id="intro" class="screen hidden">
  <img src="./images/rabbit.png">
  <h2>A dollkeeper was born today</h2>
  <p>20 years ago ğŸ’—</p>
  <button onclick="showCards()">Next</button>
</div>

<!-- CARDS -->
<div id="cards" class="screen hidden">
  <h2>Pick a card ğŸ’Œ</h2>
  <div class="cards">
    <img class="card" src="./images/card_spade.png" onclick="pickCard('You are strong and protective ğŸ’–')">
    <img class="card" src="./images/card_heart.png" onclick="pickCard('You love deeply and purely ğŸ’•')">
    <img class="card" src="./images/card_diamond.png" onclick="pickCard('You are rare and precious ğŸ’')">
    <img class="card" src="./images/card_club.png" onclick="pickCard('You are brave even on hard days ğŸŒ±')">
  </div>
</div>

<!-- CARD MESSAGE -->
<div id="cardMsg" class="screen hidden">
  <h2 id="msg"></h2>
  <button onclick="showCake()">Go to cake ğŸ‚</button>
</div>

<!-- CAKE -->
<div id="cake" class="screen hidden">
  <img id="cakeImg" src="./images/cake_plain.png">
  <br>
  <button onclick="decorate()">Decorate the cake</button>
  <button onclick="lightCandle()">Light the candle</button>
  <div id="candle" class="candle hidden">ğŸ•¯ï¸</div>
  <br>
  <button onclick="blowCandle()">Blow the candle</button>
</div>

<!-- BALLOONS -->
<div id="balloons" class="screen hidden">
  <h2 id="balloonText"></h2>
  <img class="balloon" src="./images/balloon.png" onclick="pop(this,'YOU')">
  <img class="balloon" src="./images/balloon.png" onclick="pop(this,'ARE')">
  <img class="balloon" src="./images/balloon.png" onclick="pop(this,'SO')">
  <img class="balloon" src="./images/balloon.png" onclick="pop(this,'AMAZING ğŸ’–')">
</div>

<!-- FINAL MESSAGE -->
<div id="final" class="screen hidden">
  <img src="./images/scroll.png">
  <h2>Final Message</h2>
  <p>âœ¨ i love you so much bestie âœ¨</p>
</div>

<script>
let p = 1;
let bar = document.getElementById("bar");
let percent = document.getElementById("percent");

let loader = setInterval(() => {
  p++;
  bar.style.width = p + "%";
  percent.innerText = p + "%";
  if (p >= 222) {
    clearInterval(loader);
    loading.classList.add("hidden");
    intro.classList.remove("hidden");
  }
}, 25);

function showCards() {
  intro.classList.add("hidden");
  cards.classList.remove("hidden");
}

function pickCard(text) {
  cards.classList.add("hidden");
  cardMsg.classList.remove("hidden");
  msg.innerText = text;
}

function showCake() {
  cardMsg.classList.add("hidden");
  cake.classList.remove("hidden");
}

function decorate() {
  cakeImg.src = "./images/cake_decorated.png";
}

function lightCandle() {
  candle.classList.remove("hidden");
}

function blowCandle() {
  candle.style.display = "none";
  if (navigator.vibrate) navigator.vibrate(200);
  cake.classList.add("hidden");
  balloons.classList.remove("hidden");
}

function pop(el, word) {
  el.style.display = "none";
  balloonText.innerText += " " + word;
  if (document.querySelectorAll(".balloon:not([style*='none'])").length === 0) {
    setTimeout(() => {
      balloons.classList.add("hidden");
      final.classList.remove("hidden");
    }, 800);
  }
}
</script>

</body>
</html>
