<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Birthday Surprise</title>

<style>
body{
  margin:0;
  font-family:'Comic Sans MS',cursive;
  background:linear-gradient(135deg,#ffd6ec,#ffe9f6);
  text-align:center;
  overflow:hidden;
}

/* âœ¨ sparkles */
.sparkle{
  position:fixed;
  font-size:16px;
  animation:float 6s linear infinite;
  pointer-events:none;
}
@keyframes float{
  from{transform:translateY(100vh);opacity:1}
  to{transform:translateY(-10vh);opacity:0}
}

/* pages */
.page{display:none;min-height:100vh;padding:25px;}
.show{display:block;}

button{
  padding:12px 22px;
  border:none;
  border-radius:25px;
  background:#ff7eb9;
  color:white;
  font-size:16px;
  margin-top:20px;
}

/* loading */
#bar{width:80%;height:25px;background:white;border-radius:20px;margin:40px auto;overflow:hidden;}
#progress{height:100%;width:0;background:#ff7eb9;}

/* cards */
.cards{display:flex;gap:18px;justify-content:center;}
.card{width:100px;height:140px;perspective:1000px;}
.inner{width:100%;height:100%;transition:0.7s;transform-style:preserve-3d;}
.card.flip .inner{transform:rotateY(180deg);}
.front,.back{
  position:absolute;width:100%;height:100%;
  border-radius:15px;background:white;
  display:flex;align-items:center;justify-content:center;
  backface-visibility:hidden;
}
.back{transform:rotateY(180deg);font-size:12px;padding:8px}

/* cake */
#cake{
  width:240px;
  touch-action:none;
}
.slice{width:350px}

/* ğŸŠ CUTER CONFETTI */
.confetti{
  position:absolute;
  width:50px;
  animation:confettiFall 2.5s ease-out forwards;
}
@keyframes confettiFall{
  0%{transform:translate(0,0) rotate(0)}
  100%{transform:translate(var(--x),600px) rotate(720deg);opacity:0}
}

/* balloons */
.balloon{width:90px;margin:10px}

/* scroll */
.scrollWrap{position:relative;width:320px;margin:auto}
.scrollWrap img{width:100%}
.scrollText{
  position:absolute;
  top:32%;left:50%;
  transform:translate(-50%,-50%);
  width:80%;
  font-size:14px;
}
</style>
</head>

<body>

<audio id="music" loop>
  <source src="birthday.mp3">
</audio>
<audio id="finalMusic" loop>
  <source src="sailor.mp3">
</audio>


<!-- PAGE 1 -->
<div id="p1" class="page show">
  <h2>Measuring your cuteness... ğŸ’—</h2>
  <div id="bar"><div id="progress"></div></div>
  <div id="percent">0%</div>
</div>

<!-- PAGE 2 -->
<div id="p2" class="page">
  <img src="rabbit.png" width="220">
  <h2>âœ¨ A dollkeeper  was born 20 years ago  years ago âœ¨</h2>
  <button onclick="next(3)">Next âœ</button>
</div>

<!-- PAGE 3 -->
<div id="p3" class="page">
  <h2>Pick ONE card</h2>
  <div class="cards">
    <div class="card" onclick="pick(this)"><div class="inner"><div class="front">â™ ï¸</div><div class="back">You are my strongest support</div></div></div>
    <div class="card" onclick="pick(this)"><div class="inner"><div class="front">â™¦ï¸</div><div class="back">Your smile lights my world</div></div></div>
    <div class="card" onclick="pick(this)"><div class="inner"><div class="front">â™£ï¸</div><div class="back">Life is lucky with you</div></div></div>
    <div class="card" onclick="pick(this)"><div class="inner"><div class="front">â¤ï¸</div><div class="back">Kindest heart ever</div></div></div>
  </div>
  <button id="cakeBtn" style="display:none" onclick="next(4)">Go to Cake ğŸ‚</button>
</div>

<!-- PAGE 4 -->
<div id="p4" class="page">
  <img id="cake" src="cake_plain.png">
  <br>
  <button id="blowBtn">Blow Candle ğŸ•¯</button>
  <button id="cutBtn" style="display:none">Swipe to cut the cake âœ</button>
  <div id="confettiBox"></div>


<!-- PAGE 5 -->
<div id="p5" class="page">
  <img src="cake_plain.png" class="slice">
  <h2>Big slice just for you ğŸ’•</h2>
  <button onclick="next(6)">Next âœ</button>
</div>

<!-- PAGE 6 -->
<div id="p6" class="page">
  <h2>Pop balloons ğŸˆ</h2>
  <div id="balloons"></div>
  <h2 id="msg"></h2>
  <button id="finalBtn" style="display:none" onclick="next(7)">Final Message ğŸ’Œ</button>
</div>

<!-- PAGE 7 -->
<div id="p7" class="page">
  <div class="scrollWrap">
    <img src="scroll.png">
    <div class="scrollText">
      Happy Birthday my favorite person ğŸ’–<br><br>
      You are my happiness,<br>
      my comfort & my forever smile.<br><br>
      Stay cute always âœ¨
    </div>
  </div>
</div>

<script>
let current=1;
const progress=document.getElementById("progress");
const percent=document.getElementById("percent");
const music=document.getElementById("music");
const cake=document.getElementById("cake");
const confettiBox=document.getElementById("confettiBox");

/* navigation */
function next(n){
  document.getElementById("p"+current).classList.remove("show");
  document.getElementById("p"+n).classList.add("show");
  current=n;

  music.play();

  if(n==7){
    music.pause();
    document.getElementById("finalMusic").play();
  }
}

/* loading 0-222 */
let w=0;
let load=setInterval(()=>{
  w+=2;
  progress.style.width=(w/222*100)+"%";
  percent.innerText=w+"%";
  if(w>=222){clearInterval(load);next(2);}
},25);

/* sparkles */
setInterval(()=>{
  let sparkleOn=false;

function startSparkles(){
  if(sparkleOn) return;
  sparkleOn=true;
  setInterval(()=>{
    let s=document.createElement("div");
    s.className="sparkle";
    s.innerHTML="âœ¨";
    s.style.left=Math.random()*100+"vw";
    document.body.appendChild(s);
    setTimeout(()=>s.remove(),6000);
  },300);
}


/* one card */
let chosen=false;
function pick(card){
  if(chosen) return;
  chosen=true;
  card.classList.add("flip");
  cakeBtn.style.display="inline-block";
}

/* CUTER CONFETTI BURST */
document.getElementById("blowBtn").onclick=()=>{
  for(let i=0;i<40;i++){
    let img=document.createElement("img");
    img.src="confetti.png";
    img.className="confetti";
    img.style.left="50%";
    img.style.top="30%";
    img.style.setProperty("--x",(Math.random()*400-200)+"px");
    confettiBox.appendChild(img);
  }

  cutBtn.style.display="inline-block";   // ğŸ‘ˆ show cut button
};

/* FIXED swipe (touch + mouse) */
let startX=0;

cake.addEventListener("pointerdown",e=>{
  startX=e.clientX;
});

cake.addEventListener("pointerup",e=>{
  if(e.clientX-startX>40){
    if(navigator.vibrate) navigator.vibrate(300);
    startSparkles();
     next(6);   // go to balloons
  }
});


/* balloons */
const words=["you ","are ","so ","cool!"];
let i=0;
for(let j=0;j<4;j++){
  let b=document.createElement("img");
  b.src="ballon.png";
  b.className="balloon";
  b.onclick=()=>{
    b.style.visibility="hidden";
    msg.innerHTML+=words[i++];
    if(i===4) finalBtn.style.display="inline-block";
  }
  balloons.appendChild(b);
}
</script>
</body>
</html>
